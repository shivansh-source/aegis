{"ast":null,"code":"var _jsxFileName = \"/Users/kausheyaroy/Downloads/ai-in-defense/client/src/pages/Simulation.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useWar } from \"../context/WarContext\";\nimport { fetchTroops, fetchWeapons, startSimulation } from \"../api\";\nimport { Loader } from \"../components/Loader\";\nimport { TroopCard } from \"../components/TroopCard\";\nimport { WeaponCard } from \"../components/WeaponCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Simulation = () => {\n  _s();\n  const {\n    config,\n    setConfig\n  } = useWar();\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (config.countryA) {\n      setLoading(true);\n      Promise.all([fetchTroops(config.countryA), fetchWeapons(config.countryA)]).then(([tRes, wRes]) => {\n        setConfig(c => ({\n          ...c,\n          troopsA: tRes.data,\n          weaponsA: wRes.data\n        }));\n      }).finally(() => setLoading(false));\n    }\n    if (config.countryB) {\n      setLoading(true);\n      Promise.all([fetchTroops(config.countryB), fetchWeapons(config.countryB)]).then(([tRes, wRes]) => {\n        setConfig(c => ({\n          ...c,\n          troopsB: tRes.data,\n          weaponsB: wRes.data\n        }));\n      }).finally(() => setLoading(false));\n    }\n  }, [config.countryA, config.countryB, setConfig]);\n  const handleStart = () => {\n    setLoading(true);\n    startSimulation(config).then(res => {\n      // navigate to Results page with simulationId\n      window.location.href = `/results/${res.data.simulationId}`;\n    }).finally(() => setLoading(false));\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 grid grid-cols-2 gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mb-2\",\n        children: [\"Troops \\u2013 \", config.countryA]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), config.troopsA.map(t => /*#__PURE__*/_jsxDEV(TroopCard, {\n        troop: t\n      }, t.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mt-4 mb-2\",\n        children: [\"Weapons \\u2013 \", config.countryA]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), config.weaponsA.map(w => /*#__PURE__*/_jsxDEV(WeaponCard, {\n        weapon: w\n      }, w.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mb-2\",\n        children: [\"Troops \\u2013 \", config.countryB]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), config.troopsB.map(t => /*#__PURE__*/_jsxDEV(TroopCard, {\n        troop: t\n      }, t.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mt-4 mb-2\",\n        children: [\"Weapons \\u2013 \", config.countryB]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), config.weaponsB.map(w => /*#__PURE__*/_jsxDEV(WeaponCard, {\n        weapon: w\n      }, w.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"col-span-2 mt-6 bg-blue-600 text-white py-2 rounded\",\n      onClick: handleStart,\n      children: \"Start Simulation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Simulation, \"3+pnXcspT2BU33ftQAsksZ1n1Co=\", false, function () {\n  return [useWar];\n});\n_c = Simulation;\nvar _c;\n$RefreshReg$(_c, \"Simulation\");","map":{"version":3,"names":["React","useEffect","useState","useWar","fetchTroops","fetchWeapons","startSimulation","Loader","TroopCard","WeaponCard","jsxDEV","_jsxDEV","Simulation","_s","config","setConfig","loading","setLoading","countryA","Promise","all","then","tRes","wRes","c","troopsA","data","weaponsA","finally","countryB","troopsB","weaponsB","handleStart","res","window","location","href","simulationId","fileName","_jsxFileName","lineNumber","columnNumber","className","children","map","t","troop","id","w","weapon","onClick","_c","$RefreshReg$"],"sources":["/Users/kausheyaroy/Downloads/ai-in-defense/client/src/pages/Simulation.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useWar } from \"../context/WarContext\";\r\nimport { fetchTroops, fetchWeapons, startSimulation } from \"../api\";\r\nimport { Loader } from \"../components/Loader\";\r\nimport { TroopCard } from \"../components/TroopCard\";\r\nimport { WeaponCard } from \"../components/WeaponCard\";\r\n\r\nexport const Simulation: React.FC = () => {\r\n  const { config, setConfig } = useWar();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (config.countryA) {\r\n      setLoading(true);\r\n      Promise.all([fetchTroops(config.countryA), fetchWeapons(config.countryA)])\r\n        .then(([tRes, wRes]) => {\r\n          setConfig((c) => ({ ...c, troopsA: tRes.data, weaponsA: wRes.data }));\r\n        })\r\n        .finally(() => setLoading(false));\r\n    }\r\n    if (config.countryB) {\r\n      setLoading(true);\r\n      Promise.all([fetchTroops(config.countryB), fetchWeapons(config.countryB)])\r\n        .then(([tRes, wRes]) => {\r\n          setConfig((c) => ({ ...c, troopsB: tRes.data, weaponsB: wRes.data }));\r\n        })\r\n        .finally(() => setLoading(false));\r\n    }\r\n  }, [config.countryA, config.countryB, setConfig]);\r\n\r\n  const handleStart = () => {\r\n    setLoading(true);\r\n    startSimulation(config)\r\n      .then((res) => {\r\n        // navigate to Results page with simulationId\r\n        window.location.href = `/results/${res.data.simulationId}`;\r\n      })\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n\r\n  return (\r\n    <div className=\"p-6 grid grid-cols-2 gap-4\">\r\n      <div>\r\n        <h2 className=\"font-semibold mb-2\">Troops – {config.countryA}</h2>\r\n        {config.troopsA.map((t) => (\r\n          <TroopCard key={t.id} troop={t} />\r\n        ))}\r\n        <h2 className=\"font-semibold mt-4 mb-2\">Weapons – {config.countryA}</h2>\r\n        {config.weaponsA.map((w) => (\r\n          <WeaponCard key={w.id} weapon={w} />\r\n        ))}\r\n      </div>\r\n      <div>\r\n        <h2 className=\"font-semibold mb-2\">Troops – {config.countryB}</h2>\r\n        {config.troopsB.map((t) => (\r\n          <TroopCard key={t.id} troop={t} />\r\n        ))}\r\n        <h2 className=\"font-semibold mt-4 mb-2\">Weapons – {config.countryB}</h2>\r\n        {config.weaponsB.map((w) => (\r\n          <WeaponCard key={w.id} weapon={w} />\r\n        ))}\r\n      </div>\r\n      <button\r\n        className=\"col-span-2 mt-6 bg-blue-600 text-white py-2 rounded\"\r\n        onClick={handleStart}\r\n      >\r\n        Start Simulation\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}